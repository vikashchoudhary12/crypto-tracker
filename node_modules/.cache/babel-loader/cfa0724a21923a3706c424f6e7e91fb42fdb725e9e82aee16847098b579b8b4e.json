{"ast":null,"code":"import{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{updateAsset}from'../features/assets/assetsSlice';export default function PriceUpdater(){const dispatch=useDispatch();const assets=useSelector(state=>state.assets);const formatLargeNumber=value=>{if(value>=1e12)return`$${(value/1e12).toFixed(2)}T`;if(value>=1e9)return`$${(value/1e9).toFixed(2)}B`;if(value>=1e6)return`$${(value/1e6).toFixed(2)}M`;return`$${value.toFixed(2)}`;};useEffect(()=>{const interval=setInterval(()=>{const randomChange=()=>(Math.random()-0.5)*1.5;const asset=assets[Math.floor(Math.random()*assets.length)];const priceChange=randomChange()/100;const newPrice=asset.price*(1+priceChange);const volumeChange=Math.abs(randomChange()*5);const marketCapValue=parseFloat(asset.marketCap.replace(/[^0-9.]/g,''))*1e9;const volumeValue=parseFloat(asset.volume24h.replace(/[^0-9.]/g,''))*1e9;dispatch(updateAsset({symbol:asset.symbol,changes:{price:newPrice,'1h':asset['1h']+randomChange()/3,'24h':asset['24h']+randomChange()/2,'7d':asset['7d']+randomChange()/5,volume24h:formatLargeNumber(volumeValue*(1+volumeChange/100)),marketCap:formatLargeNumber(marketCapValue*(1+priceChange))}}));},1000);return()=>clearInterval(interval);},[dispatch,assets]);return null;}","map":{"version":3,"names":["useEffect","useDispatch","useSelector","updateAsset","PriceUpdater","dispatch","assets","state","formatLargeNumber","value","toFixed","interval","setInterval","randomChange","Math","random","asset","floor","length","priceChange","newPrice","price","volumeChange","abs","marketCapValue","parseFloat","marketCap","replace","volumeValue","volume24h","symbol","changes","clearInterval"],"sources":["C:/Users/vikash choudhary/Desktop/crypot/src/components/PriceUpdater.js"],"sourcesContent":["import { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { updateAsset } from '../features/assets/assetsSlice'\r\n\r\nexport default function PriceUpdater() {\r\n  const dispatch = useDispatch()\r\n  const assets = useSelector(state => state.assets)\r\n\r\n  const formatLargeNumber = (value) => {\r\n    if (value >= 1e12) return `$${(value / 1e12).toFixed(2)}T`\r\n    if (value >= 1e9) return `$${(value / 1e9).toFixed(2)}B`\r\n    if (value >= 1e6) return `$${(value / 1e6).toFixed(2)}M`\r\n    return `$${value.toFixed(2)}`\r\n  }\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      const randomChange = () => (Math.random() - 0.5) * 1.5\r\n      const asset = assets[Math.floor(Math.random() * assets.length)]\r\n      \r\n      const priceChange = randomChange()/100\r\n      const newPrice = asset.price * (1 + priceChange)\r\n      const volumeChange = Math.abs(randomChange() * 5)\r\n      const marketCapValue = parseFloat(asset.marketCap.replace(/[^0-9.]/g, '')) * (1e9)\r\n      const volumeValue = parseFloat(asset.volume24h.replace(/[^0-9.]/g, '')) * (1e9)\r\n\r\n      dispatch(updateAsset({\r\n        symbol: asset.symbol,\r\n        changes: {\r\n          price: newPrice,\r\n          '1h': asset['1h'] + randomChange()/3,\r\n          '24h': asset['24h'] + randomChange()/2,\r\n          '7d': asset['7d'] + randomChange()/5,\r\n          volume24h: formatLargeNumber(volumeValue * (1 + volumeChange/100)),\r\n          marketCap: formatLargeNumber(marketCapValue * (1 + priceChange))\r\n        }\r\n      }))\r\n    }, 1000)\r\n\r\n    return () => clearInterval(interval)\r\n  }, [dispatch, assets])\r\n\r\n  return null\r\n}"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,WAAW,KAAQ,gCAAgC,CAE5D,cAAe,SAAS,CAAAC,YAAYA,CAAA,CAAG,CACrC,KAAM,CAAAC,QAAQ,CAAGJ,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAK,MAAM,CAAGJ,WAAW,CAACK,KAAK,EAAIA,KAAK,CAACD,MAAM,CAAC,CAEjD,KAAM,CAAAE,iBAAiB,CAAIC,KAAK,EAAK,CACnC,GAAIA,KAAK,EAAI,IAAI,CAAE,MAAO,IAAI,CAACA,KAAK,CAAG,IAAI,EAAEC,OAAO,CAAC,CAAC,CAAC,GAAG,CAC1D,GAAID,KAAK,EAAI,GAAG,CAAE,MAAO,IAAI,CAACA,KAAK,CAAG,GAAG,EAAEC,OAAO,CAAC,CAAC,CAAC,GAAG,CACxD,GAAID,KAAK,EAAI,GAAG,CAAE,MAAO,IAAI,CAACA,KAAK,CAAG,GAAG,EAAEC,OAAO,CAAC,CAAC,CAAC,GAAG,CACxD,MAAO,IAAID,KAAK,CAACC,OAAO,CAAC,CAAC,CAAC,EAAE,CAC/B,CAAC,CAEDV,SAAS,CAAC,IAAM,CACd,KAAM,CAAAW,QAAQ,CAAGC,WAAW,CAAC,IAAM,CACjC,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CAACC,IAAI,CAACC,MAAM,CAAC,CAAC,CAAG,GAAG,EAAI,GAAG,CACtD,KAAM,CAAAC,KAAK,CAAGV,MAAM,CAACQ,IAAI,CAACG,KAAK,CAACH,IAAI,CAACC,MAAM,CAAC,CAAC,CAAGT,MAAM,CAACY,MAAM,CAAC,CAAC,CAE/D,KAAM,CAAAC,WAAW,CAAGN,YAAY,CAAC,CAAC,CAAC,GAAG,CACtC,KAAM,CAAAO,QAAQ,CAAGJ,KAAK,CAACK,KAAK,EAAI,CAAC,CAAGF,WAAW,CAAC,CAChD,KAAM,CAAAG,YAAY,CAAGR,IAAI,CAACS,GAAG,CAACV,YAAY,CAAC,CAAC,CAAG,CAAC,CAAC,CACjD,KAAM,CAAAW,cAAc,CAAGC,UAAU,CAACT,KAAK,CAACU,SAAS,CAACC,OAAO,CAAC,UAAU,CAAE,EAAE,CAAC,CAAC,CAAI,GAAI,CAClF,KAAM,CAAAC,WAAW,CAAGH,UAAU,CAACT,KAAK,CAACa,SAAS,CAACF,OAAO,CAAC,UAAU,CAAE,EAAE,CAAC,CAAC,CAAI,GAAI,CAE/EtB,QAAQ,CAACF,WAAW,CAAC,CACnB2B,MAAM,CAAEd,KAAK,CAACc,MAAM,CACpBC,OAAO,CAAE,CACPV,KAAK,CAAED,QAAQ,CACf,IAAI,CAAEJ,KAAK,CAAC,IAAI,CAAC,CAAGH,YAAY,CAAC,CAAC,CAAC,CAAC,CACpC,KAAK,CAAEG,KAAK,CAAC,KAAK,CAAC,CAAGH,YAAY,CAAC,CAAC,CAAC,CAAC,CACtC,IAAI,CAAEG,KAAK,CAAC,IAAI,CAAC,CAAGH,YAAY,CAAC,CAAC,CAAC,CAAC,CACpCgB,SAAS,CAAErB,iBAAiB,CAACoB,WAAW,EAAI,CAAC,CAAGN,YAAY,CAAC,GAAG,CAAC,CAAC,CAClEI,SAAS,CAAElB,iBAAiB,CAACgB,cAAc,EAAI,CAAC,CAAGL,WAAW,CAAC,CACjE,CACF,CAAC,CAAC,CAAC,CACL,CAAC,CAAE,IAAI,CAAC,CAER,MAAO,IAAMa,aAAa,CAACrB,QAAQ,CAAC,CACtC,CAAC,CAAE,CAACN,QAAQ,CAAEC,MAAM,CAAC,CAAC,CAEtB,MAAO,KAAI,CACb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}